
image: python:3.6

cache:
  paths:
    - .cache/pip
    - venv/

before_script:
  - pip install virtualenv
  - virtualenv venv
  - python -V  # Print out python version for debugging


bom:
  before_script:
    - pip install kicost

  script:
    - pwd
    - ls -la /
    - ls -la *
    - kicost -i ./ecad/MainBoard/MainBoard.xml -o kicost.xlsx
  artifacts:
    paths:
      - ./*.xlsx

3d_exports:
  before_script:
  - apt update -y
  - apt install -y kicad
  - pip install --no-compile kibot
  script:
    - pwd
    - kibot render_3d ./ecad/MainBoard/MainBoard.kicad_pcb
  artifacts:
    paths:
      - ./*
